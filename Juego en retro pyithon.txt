#naves del juego: Jugador, Alien
class nave:
    def __init__(self, x, y, radio, color, vivo=True):
        self.x = x
        self.y = y
        self.radio = radio
        self.color = color
        self.vivo = vivo
    
    def crear(self):
        if self.vivo:
            #print("se ejecuta el crear")
            #circulo(self.x, self.y, self.radio, self.color, True)
            #centro = [x,y]
            v_a = [self.x + 5,self.y]
            v_c = [self.x-1,self.y-3]
            v_f = [self.x-1, self.y+3]
            v_g = [self.x+2, self.y+3]
            linea(v_a[0], v_a[1], v_c[0], v_c[1],self.color)
            linea(v_a[0], v_a[1], v_f[0], v_f[1],self.color)
            linea(v_f[0], v_f[1], v_c[0], v_c[1],self.color)
    
    def mover(self, dx, dy):
        #print("se ejecuta el mover", 11)
        if self.vivo:
            self.x += dx
            self.y += dy
    
    def eliminar(self):
        self.vivo = False
        #print("se elimina")
        


#Variables
activo = True

velocidad = 3
velocidad2 = -3 #necesario xq usar -velocidad reduce los fps.

#incia el juego
#cargo el jugador
jugador = nave(100,100,10,7)
jugador.crear()
#print(jugador.radio, 11)

#cargo el alien
alien = nave(20,20,20,9)
alien.crear()

def mover_jugador():
    #muevo el jugador con las teclas
    if derecha and jugador.x < 128:
        jugador.mover(velocidad,0)
    if izquierda and jugador.x > 0:
        jugador.mover(velocidad2,0)
    if arriba and jugador.y > 0:
        jugador.mover(0,velocidad2)
    if abajo and jugador.y < 128:
        jugador.mover(0,velocidad)
        
def movimiento_alien():
    if alien.vivo:
        alien.mover(velocidad,0)
    if alien.x > 140:
        alien.x = 0
        alien.y = azar(0,128)

def colision(jx,jy,jr,ax,ay,ar):
    #si devuelve true, entonces est√°n colisionando la nave y el alien
    numero = pow(jx-ax, 2) + pow(jy-ay, 2)
    distancia = pow(numero, 0.5)
    #print(distancia)
    return distancia <= (jr+ar)

#Comienza el juego
while activo:
    #crea las naves y borra el rastro del movimiento
    pintar(3)
    jugador.crear()
    alien.crear()
    
    mover_jugador()
    movimiento_alien()

    
    #detecta colision entre jugador y nave. Si chocan, se borra el alien
    if colision(jugador.x, jugador.y, jugador.radio, alien.x, alien.y, alien.radio):
        #print("chocaron")
        alien.eliminar()




